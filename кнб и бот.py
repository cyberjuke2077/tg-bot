import os 
import time 
import datetime
import pytz
import pathlib

import requests 
# pip install requests

# pip install python-dotenv
from dotenv import load_dotenv

#pip install python-telegram-bot==13.7
from telegram import Bot, ReplyKeyboardMarkup
from telegram.ext import Updater, MessageHandler, Filters

import random 
MY_ID = 813531325

load_dotenv()
–¢–û–ö–ï–ù = os.getenv("—Ç–æ–∫–µ–Ω")

–±–æ—Ç = Bot(–¢–û–ö–ï–ù)
—ç—Ç–æ—Ç_—Ñ–∞–π–ª = __file__
—ç—Ç–∞_–ø–∞–ø–∫–∞ = pathlib.Path(—ç—Ç–æ—Ç_—Ñ–∞–π–ª).resolve().parent # —Ñ—É–Ω–∫—Ü–∏—è –ø–æ–∑–≤–æ–ª—è–µ—Ç —É–∑–Ω–∞—Ç—å —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫—É—é –ø–∞–ø–∫—É


def –ø—Ä–æ–≤–µ—Ä–∏—Ç—å_–≤—Ö–æ–¥—è—â–∏–µ(–∞–π–¥–∏=None):
    def —Å–æ–∑–¥–∞—Ç—å_last_msg(update_id):
        with open(—ç—Ç–∞_–ø–∞–ø–∫–∞ / 'last_msg', 'w', encoding='utf-8') as file:
            file.write(str(update_id))

    def —Å—á–∏—Ç–∞—Ç—å_last_msg():
        with open(—ç—Ç–∞_–ø–∞–ø–∫–∞ / 'last_msg', 'r', encoding='utf-8') as file:
            return int(file.read())
        
    —Å–µ–π—á–∞—Å = datetime.datetime.now(pytz.UTC)
    if not os.path.exists(—ç—Ç–∞_–ø–∞–ø–∫–∞ / 'last_msg'):
        while True:
            try:
                –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è = –±–æ—Ç.get_updates()
                if not –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:
                    time.sleep(0.5)
                    continue
                break
            except:
                continue
        –ø–æ—Å–ª–µ–¥–Ω–µ–µ_—Å–æ–æ–±—â–µ–Ω–∏–µ = –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è[-1]
        if –ø–æ—Å–ª–µ–¥–Ω–µ–µ_—Å–æ–æ–±—â–µ–Ω–∏–µ.message.date < —Å–µ–π—á–∞—Å:
            —Å–æ–∑–¥–∞—Ç—å_last_msg(–ø–æ—Å–ª–µ–¥–Ω–µ–µ_—Å–æ–æ–±—â–µ–Ω–∏–µ.update_id)
        else:
            —Å–æ–∑–¥–∞—Ç—å_last_msg(–ø–æ—Å–ª–µ–¥–Ω–µ–µ_—Å–æ–æ–±—â–µ–Ω–∏–µ.update_id - 1)

    while True:
        try:
            –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è = –±–æ—Ç.get_updates(offset=—Å—á–∏—Ç–∞—Ç—å_last_msg() + 1)
        except:
            time.sleep(1)
            continue
        if not –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:
            continue

        –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è.reverse()
        print(len(–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è))
        for —Å–æ–æ–±—â–µ–Ω–∏–µ in –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:
            if –∞–π–¥–∏ is None or —Å–æ–æ–±—â–µ–Ω–∏–µ.effective_user.id == –∞–π–¥–∏:
                —Å–æ–∑–¥–∞—Ç—å_last_msg(—Å–æ–æ–±—â–µ–Ω–∏–µ.update_id)
                print(—Å–æ–æ–±—â–µ–Ω–∏–µ.effective_message.text)
                return —Å–æ–æ–±—â–µ–Ω–∏–µ
        time.sleep(0.5)

        –ø–æ—Å–ª–µ–¥–Ω–µ–µ_—Å–æ–æ–±—â–µ–Ω–∏–µ = –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è[-1]
        if –ø–æ—Å–ª–µ–¥–Ω–µ–µ_—Å–æ–æ–±—â–µ–Ω–∏–µ.message.date < —Å–µ–π—á–∞—Å:
            continue
        –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è.reverse()
        for —Å–æ–æ–±—â–µ–Ω–∏–µ in –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:
            if —Å–æ–æ–±—â–µ–Ω–∏–µ.message.date < —Å–µ–π—á–∞—Å:
                continue
        # –µ—Å–ª–∏ –∞–π–¥–∏ –Ω–µ –±—ã–ª–æ –ø–µ—Ä–µ–¥–∞–Ω–æ, –∑–Ω–∞—á–∏—Ç –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –ø–æ—Å–ª–µ–¥–Ω–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
            if –∞–π–¥–∏ == None:
                with open(f'{—ç—Ç–∞_–ø–∞–ø–∫–∞}\\last_id', 'w', encoding='utf-8') as file:
                    file.write(str(—Å–æ–æ–±—â–µ–Ω–∏–µ.update_id))
                return —Å–æ–æ–±—â–µ–Ω–∏–µ  

        # –ø—Ä–æ–≤–µ—Ä—è–µ–º –∞–π–¥–∏ –∏ —Å—Ä–∞–≤–Ω–∏–≤–∞–µ–º –µ–≥–æ —Å —Ç–µ–º –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏—à–µ–ª —Å —Å–æ–æ–±—â–µ–Ω–∏–µ–º
            –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å = —Å–æ–æ–±—â–µ–Ω–∏–µ.message.chat_id
            if –∞–π–¥–∏ == –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å:
                with open(f'{—ç—Ç–∞_–ø–∞–ø–∫–∞}\\last_id', 'w', encoding='utf-8') as file:
                    file.write(str(—Å–æ–æ–±—â–µ–Ω–∏–µ.update_id))
                return —Å–æ–æ–±—â–µ–Ω–∏–µ


def –æ—Ç–ø—Ä–∞–≤–∏—Ç—å_–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é(–∞–π–¥–∏, —Å–æ–æ–±—â–µ–Ω–∏–µ, –∫–Ω–æ–ø–∫–∏):
    –±–æ—Ç.send_message(chat_id=–∞–π–¥–∏, text=—Å–æ–æ–±—â–µ–Ω–∏–µ, reply_markup=–∫–Ω–æ–ø–∫–∏)


def –∫–Ω–±(–∞–π–¥–∏, –∏–º—è):
    —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ_–∫–Ω–æ–ø–∫–∏ = ReplyKeyboardMarkup([["–ö–∞–º–µ–Ω—å, –ù–æ–∂–Ω–∏—Ü—ã, –ë—É–º–∞–≥–∞"]], resize_keyboard=True)
    –∏–≥—Ä–æ–≤—ã–µ_–∫–Ω–æ–ø–∫–∏ = ReplyKeyboardMarkup([
        ["üß±", "‚úÇ", "üìÉ",],
        ["–°–±—Ä–æ—Å", "–í—ã—Ö–æ–¥"]
    ], resize_keyboard=True)

    class –ò–≥—Ä–æ–∫:
        def __init__(self, –∏–º—è):
            self.–∏–º—è = –∏–º—è
            self.—Å—á–µ—Ç = 0
            self.—Ö–æ–¥ = ""
    –ø—Ä–∞–≤–∏–ª–∞ = f"""–ò–≥—Ä–∞ "–ö–∞–º–µ–Ω—å, –Ω–æ–∂–Ω–∏—Ü—ã, –±—É–º–∞–≥–∞!"
–ß—Ç–æ–±—ã —Å–¥–µ–ª–∞—Ç—å —Ö–æ–¥, –≤—ã–±–µ—Ä–∏—Ç–µ –æ–¥–∏–Ω –∏–∑ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤: üß±, ‚úÇ, –∏–ª–∏ üìÉ

–ö–æ–º–ø—å—é—Ç–µ—Ä –≤ —ç—Ç–æ –≤—Ä–µ–º—è —Ç–æ–∂–µ —Å–¥–µ–ª–∞–µ—Ç —Å–≤–æ–π —Ö–æ–¥ –∏ –Ω–∞–ø–∏—à–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç. –ë—É–¥–µ—Ç —Å—á–∏—Ç–∞—Ç—å—Å—è –Ω–∞–∫–æ–ø–∏—Ç–µ–ª—å–Ω—ã–π —Å—á—ë—Ç.

–ú–æ–∂–Ω–æ —Å–±—Ä–æ—Å–∏—Ç—å —Å—á—ë—Ç –∏–ª–∏ –≤—ã–π—Ç–∏ –∏–∑ –∏–≥—Ä—ã."""
    
    –æ—Ç–ø—Ä–∞–≤–∏—Ç—å_–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é(–∞–π–¥–∏, –ø—Ä–∞–≤–∏–ª–∞, –∏–≥—Ä–æ–≤—ã–µ_–∫–Ω–æ–ø–∫–∏ )

    —é–∑–µ—Ä = –ò–≥—Ä–æ–∫(–∏–º—è)
    –∫–æ–º–ø = –ò–≥—Ä–æ–∫("–ü–µ—á–∫–∞ –ª—é—Ç–∞—è")
    
    –î–û–ü–£–°–¢–ò–ú–´–ï_–ö–û–ú–ê–ù–î–´ = ['–∫','–Ω','–±','—Å','–≤']

    –í–ê–†–ò–ê–ù–¢–´_–ü–û–ë–ï–î–´ = {
        '–∫–Ω': —é–∑–µ—Ä,
        '–∫–±': –∫–æ–º–ø,
        '–Ω–±': —é–∑–µ—Ä,
        '–Ω–∫': –∫–æ–º–ø,
        '–±–∫': —é–∑–µ—Ä,
        '–±–Ω': –∫–æ–º–ø,
    }

    –°–õ–û–í–ê–†–¨_–ó–ù–ê–ß–ï–ù–ò–ô = {
        "–∫": "–ö–∞–º–µ–Ω—å",
        "–Ω": "–ù–æ–∂–Ω–∏—Ü—ã",
        "–±": "–ë—É–º–∞–≥–∞"
    }

    def –≤—ã—Ö–æ–¥():
        if –∫–æ–º–ø.—Å—á–µ—Ç > —é–∑–µ—Ä.—Å—á–µ—Ç:
            –ø–æ–±–µ–¥–∏—Ç–µ–ª—å = –∫–æ–º–ø
            –ø—Ä–æ–∏–≥—Ä–∞–≤—à–∏–π = —é–∑–µ—Ä
        else:
            –ø–æ–±–µ–¥–∏—Ç–µ–ª—å = —é–∑–µ—Ä
            –ø—Ä–æ–∏–≥—Ä–∞–≤—à–∏–π = –∫–æ–º–ø

        if –∫–æ–º–ø.—Å—á–µ—Ç == —é–∑–µ—Ä.—Å—á–µ—Ç:
            –æ—Ç–ø—Ä–∞–≤–∏—Ç—å_–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é(–∞–π–¥–∏, "–ù–∏—á—å—è!", —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ_–∫–Ω–æ–ø–∫–∏)
        else:
            –æ—Ç–ø—Ä–∞–≤–∏—Ç—å_–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é(–∞–π–¥–∏, f"–ü–æ–±–µ–¥–∏–ª {–ø–æ–±–µ–¥–∏—Ç–µ–ª—å.–∏–º—è} —Å–æ —Å—á—ë—Ç–æ–º {–ø–æ–±–µ–¥–∏—Ç–µ–ª—å.—Å—á–µ—Ç}/{–ø—Ä–æ–∏–≥—Ä–∞–≤—à–∏–π.—Å—á–µ—Ç}", —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ_–∫–Ω–æ–ø–∫–∏)

    while True:
        if –∫–æ–º–ø.—Å—á–µ—Ç == 2 or —é–∑–µ—Ä.—Å—á–µ—Ç == 2:
            –≤—ã—Ö–æ–¥()
            return
        –∫–æ–º–∞–Ω–¥–∞ = –ø—Ä–æ–≤–µ—Ä–∏—Ç—å_–≤—Ö–æ–¥—è—â–∏–µ(–∞–π–¥–∏).effective_message.text.lower()
        –∫–æ–º–∞–Ω–¥–∞ = –∫–æ–º–∞–Ω–¥–∞.replace("üß±", "–∫")
        –∫–æ–º–∞–Ω–¥–∞ = –∫–æ–º–∞–Ω–¥–∞.replace("‚úÇ", "–Ω")
        –∫–æ–º–∞–Ω–¥–∞ = –∫–æ–º–∞–Ω–¥–∞.replace("üìÉ", "–±")
        –∫–æ–º–∞–Ω–¥–∞ = –∫–æ–º–∞–Ω–¥–∞.replace("—Å–±—Ä–æ—Å", "—Å")
        –∫–æ–º–∞–Ω–¥–∞ = –∫–æ–º–∞–Ω–¥–∞.replace("–≤—ã—Ö–æ–¥", "–≤")
        if –∫–æ–º–∞–Ω–¥–∞ not in –î–û–ü–£–°–¢–ò–ú–´–ï_–ö–û–ú–ê–ù–î–´:
            –æ—Ç–ø—Ä–∞–≤–∏—Ç—å_–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é(–∞–π–¥–∏, "–ö–æ–º–∞–Ω–¥–∞ –Ω–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–∞, –Ω–æ—Ä–º–∞–ª—å–Ω–æ –æ–±—â–∞–π—Å—è", –∏–≥—Ä–æ–≤—ã–µ_–∫–Ω–æ–ø–∫–∏)
            continue 
        if –∫–æ–º–∞–Ω–¥–∞ == "–≤":
            –≤—ã—Ö–æ–¥()
            return
        if –∫–æ–º–∞–Ω–¥–∞ == "—Å":
            –∫–æ–º–ø.—Å—á–µ—Ç = 0
            —é–∑–µ—Ä.—Å—á–µ—Ç = 0
            –æ—Ç–ø—Ä–∞–≤–∏—Ç—å_–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é(–∞–π–¥–∏, "–°—á–µ—Ç —Å–±—Ä–æ—à–µ–Ω", –∏–≥—Ä–æ–≤—ã–µ_–∫–Ω–æ–ø–∫–∏)  
            continue
        —é–∑–µ—Ä.—Ö–æ–¥ = –∫–æ–º–∞–Ω–¥–∞
        –∫–æ–º–ø.—Ö–æ–¥ = ['–∫','–Ω','–±'][random.randint(0,2)]

        if —é–∑–µ—Ä.—Ö–æ–¥ == –∫–æ–º–ø.—Ö–æ–¥:
            —Ö–æ–¥ = –°–õ–û–í–ê–†–¨_–ó–ù–ê–ß–ï–ù–ò–ô.get(—é–∑–µ—Ä.—Ö–æ–¥)
            –æ—Ç–ø—Ä–∞–≤–∏—Ç—å_–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é(–∞–π–¥–∏, f"{—Ö–æ–¥}/{—Ö–æ–¥} - –ù–∏—á—å—è!", –∏–≥—Ä–æ–≤—ã–µ_–∫–Ω–æ–ø–∫–∏)
            continue
        –ø–æ–±–µ–¥–∏—Ç–µ–ª—å = –í–ê–†–ò–ê–ù–¢–´_–ü–û–ë–ï–î–´.get(—é–∑–µ—Ä.—Ö–æ–¥ + –∫–æ–º–ø.—Ö–æ–¥)
        –ø–æ–±–µ–¥–∏—Ç–µ–ª—å.—Å—á–µ—Ç += 1
        –æ—Ç–ø—Ä–∞–≤–∏—Ç—å_–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é(–∞–π–¥–∏, f"{–°–õ–û–í–ê–†–¨_–ó–ù–ê–ß–ï–ù–ò–ô.get(—é–∑–µ—Ä.—Ö–æ–¥)}/{–°–õ–û–í–ê–†–¨_–ó–ù–ê–ß–ï–ù–ò–ô.get(–∫–æ–º–ø.—Ö–æ–¥)} - –ø–æ–±–µ–¥–∏–ª {–ø–æ–±–µ–¥–∏—Ç–µ–ª—å.–∏–º—è}. –°—á—ë—Ç {—é–∑–µ—Ä.—Å—á–µ—Ç}/{–∫–æ–º–ø.—Å—á–µ—Ç}", –∏–≥—Ä–æ–≤—ã–µ_–∫–Ω–æ–ø–∫–∏)


#–∞–π–¥–∏ = 813531325
#–±–æ—Ç.send_message(chat_id=–∞–π–¥–∏, text = "—è —Ç—É–ø–∞—è –∫–æ—Ä–æ–≤–∞, –ø—Ä–∏–≤–µ—Ç! –º—É—É—É!") 

def –∑–∞–ø–∞—Ä—Å–∏—Ç—å_–ø–æ–≥–æ–¥—É(–≥–æ—Ä–æ–¥):
    —Å—Å—ã–ª–∫–∞ = "https://google.ru/search"
    –ø–∞—Ä–∞–º–µ—Ç—Ä—ã = {'q': f'–ø–æ–≥–æ–¥–∞ –≤ –≥–æ—Ä–æ–¥–µ {–≥–æ—Ä–æ–¥} –≤ –≥—Ä–∞–¥—É—Å–∞—Ö –¶–µ–ª—å—Å–∏—è', 'hl': 'ru'} 
    –æ—Ç–≤–µ—Ç_—Å–∞–π—Ç–∞ = requests.get(—Å—Å—ã–ª–∫–∞, –ø–∞—Ä–∞–º–µ—Ç—Ä—ã)
    if –æ—Ç–≤–µ—Ç_—Å–∞–π—Ç–∞.status_code != 200:
        return '–°–∞–π—Ç –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω'
    —Ç–µ–∫—Å—Ç = –æ—Ç–≤–µ—Ç_—Å–∞–π—Ç–∞.text

    —Å—Ç–∞—Ä—Ç = —Ç–µ–∫—Å—Ç.find("BNeawe tAd8D AP7Wnd")
    if —Å—Ç–∞—Ä—Ç == -1:
        return '–≥–æ—Ä–æ–¥ –Ω–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω'
    —Å—Ç–∞—Ä—Ç = —Ç–µ–∫—Å—Ç.find(">", —Å—Ç–∞—Ä—Ç)
    —Å—Ç–∞—Ä—Ç += 1 
    —Å—Ç–æ–ø = —Ç–µ–∫—Å—Ç.find("<", —Å—Ç–∞—Ä—Ç)
    –≥–æ—Ä–æ–¥ = —Ç–µ–∫—Å—Ç[—Å—Ç–∞—Ä—Ç:—Å—Ç–æ–ø]

    —Å—Ç–∞—Ä—Ç = —Ç–µ–∫—Å—Ç.find("¬∞C", —Å—Ç–∞—Ä—Ç)
    if —Å—Ç–∞—Ä—Ç == -1:
        return '¬∞C –Ω–µ –Ω–∞–π–¥–µ–Ω—ã'
    —Å—Ç–∞—Ä—Ç -= 15
    —Å—Ç–∞—Ä—Ç = —Ç–µ–∫—Å—Ç.find(">", —Å—Ç–∞—Ä—Ç)
    —Å—Ç–∞—Ä—Ç += 1
    —Å—Ç–æ–ø = —Ç–µ–∫—Å—Ç.find("<", —Å—Ç–∞—Ä—Ç)
    –≥—Ä–∞–¥—É—Å—ã = —Ç–µ–∫—Å—Ç[—Å—Ç–∞—Ä—Ç:—Å—Ç–æ–ø]

    —Å—Ç–∞—Ä—Ç = —Ç–µ–∫—Å—Ç.find("BNeawe tAd8D AP7Wnd", —Å—Ç–∞—Ä—Ç)
    if —Å—Ç–∞—Ä—Ç == -1:
        return '–≤—Ç–æ—Ä–æ–π –±–ª–æ–∫ –Ω–µ –Ω–∞–π–¥–µ–Ω'
    —Å—Ç–∞—Ä—Ç = —Ç–µ–∫—Å—Ç.find("\n", —Å—Ç–∞—Ä—Ç)
    —Å—Ç–∞—Ä—Ç += 1
    —Å—Ç–æ–ø = —Ç–µ–∫—Å—Ç.find("<", —Å—Ç–∞—Ä—Ç)
    —Å–æ—Å—Ç–æ—è–Ω–∏–µ_–ø–æ–≥–æ–¥—ã = —Ç–µ–∫—Å—Ç[—Å—Ç–∞—Ä—Ç:—Å—Ç–æ–ø].lower()
    return f'–í {–≥–æ—Ä–æ–¥} —Å–µ–π—á–∞—Å {–≥—Ä–∞–¥—É—Å—ã}, {—Å–æ—Å—Ç–æ—è–Ω–∏–µ_–ø–æ–≥–æ–¥—ã}'

def –æ—Ç–ø—Ä–∞–≤–∏—Ç—å_—Å–æ–æ–±—â–µ–Ω–∏–µ(–∞–π–¥–∏, —Ç–µ–∫—Å—Ç):
    –±–æ—Ç.send_message(chat_id=–∞–π–¥–∏, text = —Ç–µ–∫—Å—Ç) 

def —ç—Ç–æ—Ç_–∞–π–¥–∏(–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è):
    return –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è.effective_message.chat_id

def —ç—Ç–æ_–∏–º—è(–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è):
    return –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è.effective_message.chat.first_name

def —ç—Ç–æ_—Å–æ–æ–±—â–µ–Ω–∏–µ(–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è):
    if –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è.message.text:
        return –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è.effective_message.text

def –∑–∞–ø—É—Å—Ç–∏—Ç—å_–±–æ—Ç–∞():
    —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ_–∫–Ω–æ–ø–∫–∏ = ReplyKeyboardMarkup([["–ö–∞–º–µ–Ω—å, –ù–æ–∂–Ω–∏—Ü—ã, –ë—É–º–∞–≥–∞"]], resize_keyboard=True) # –≤–Ω—É—Ç—Ä–∏ ReplyKeyboardMarkup –ø–µ—Ä–µ–¥–∞–µ–º —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∫–Ω–æ–ø–æ–∫. –í–Ω—É—Ç—Ä–∏ –Ω–µ–≥–æ –±—É–¥–µ—Ç –æ–¥–∏–Ω –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–ø–∏—Å–∫–æ–≤ - –æ–¥–∏–Ω –≤–ª–æ–∂–µ–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫ –æ–¥–Ω–∞ —Å—Ç—Ä–æ–∫–∞. –ö–Ω–æ–ø–∫–∏ –Ω—É–∂–Ω–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –≤–º–µ—Å—Ç–µ —Å —Å–æ–æ–±—â–µ–Ω–∏–µ–º. resize_keyboard=True –¥–µ–ª–∞–µ—Ç –∫–Ω–æ–ø–∫–∏ –º–∞–ª–µ–Ω—å–∫–∏–º–∏.
    –æ—Ç–ø—Ä–∞–≤–∏—Ç—å_–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é(MY_ID, "–ë–æ—Ç –∑–∞–ø—É—â–µ–Ω", —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ_–∫–Ω–æ–ø–∫–∏)

    while True:
        —Å–æ–æ–±—â–µ–Ω–∏–µ = –ø—Ä–æ–≤–µ—Ä–∏—Ç—å_–≤—Ö–æ–¥—è—â–∏–µ()
        
        –∞–π–¥–∏_–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è = —ç—Ç–æ—Ç_–∞–π–¥–∏(—Å–æ–æ–±—â–µ–Ω–∏–µ)
        –∏–º—è_–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è = —ç—Ç–æ_–∏–º—è(—Å–æ–æ–±—â–µ–Ω–∏–µ)
        if —ç—Ç–æ_—Å–æ–æ–±—â–µ–Ω–∏–µ(—Å–æ–æ–±—â–µ–Ω–∏–µ) in ["—Å—Ç–∞—Ä—Ç", "start", "/start"]:
            –æ—Ç–ø—Ä–∞–≤–∏—Ç—å_–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é(–∞–π–¥–∏_–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, f"–ü—Ä–∏–≤–µ—Ç, {–∏–º—è_–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è}", —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ_–∫–Ω–æ–ø–∫–∏)
        elif —ç—Ç–æ_—Å–æ–æ–±—â–µ–Ω–∏–µ(—Å–æ–æ–±—â–µ–Ω–∏–µ) == "–ö–∞–º–µ–Ω—å, –ù–æ–∂–Ω–∏—Ü—ã, –ë—É–º–∞–≥–∞":
            –∫–Ω–±(–∞–π–¥–∏_–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∏–º—è_–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è )
        else:
            –∑–∞–ø–∞—Ä—Å–∏—Ç—å_–ø–æ–≥–æ–¥—É(—ç—Ç–æ_—Å–æ–æ–±—â–µ–Ω–∏–µ(—Å–æ–æ–±—â–µ–Ω–∏–µ))

–∑–∞–ø—É—Å—Ç–∏—Ç—å_–±–æ—Ç–∞()